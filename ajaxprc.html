<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>使用getJSON()方法异步加载JSON格式数据</title>
	 <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
	 <style>
	 	*{
	 		margin: 5px;
	 	}
	 	#divtest1{
	 		overflow: hidden;
	 	}
	 	.title{
	 		float: left;
	 		width:240px;
	 		height: 50px;
	 		line-height: 50px;
	 		background-color: #F08080;
	 		margin-top: 30px;
	 	}
	 	.fl{
	 		padding:0 10px 0 10px;
	 	} 	
	 	.list{
	 		width: 240px;
	 		list-style: none;
	 		line-height: 30px;
	 		float: left;
	 	}
	 </style>
	</head>
	<body>
		<div id="divtest1">
			<div class="title">
				<span class="fl">我最喜欢的一项运动</span>
				<span class="fr">
					<input id="btnShow1" type="button" value="加载" />
				</span>
			</div><!--title结束-->
			<ul class="list" id="list1"></ul>
		</div><!--divtest1结束-->
		<div id="divtest2">
			<div class="title">
				<span class="fl">我最喜欢的一项运动</span>
				<span class="fr">
					<input id="btnShow2" type="button" value="加载" />
				</span>
			</div><!--title结束-->
		<ul class="list" id="list2"></ul>
  </div><!--divtest2结束-->
  		<div id="divtest3">
			<div class="title">
				<span class="fl">我的个人资料</span>
				<span class="fr">
					<input id="btnShow3" type="button" value="加载" />
				</span>
			</div><!--title结束-->
		<ul class="list" id="list3"></ul>
  </div><!--divtest3结束-->
	</body>
</html>
<script>
	$(function(){		
		
		$("#btnShow1").bind("click",function(){
			var $this=$(this);
			$.getJSON("./JSON/data.json",function(data){
				$.each(data,function(index,sport){
					$("#list1").append("<li>"+sport["name"]+"</li>");
							$this.attr("disabled","true");//将加载按钮变为不可用
				});
			});
		});	
		
		$("#btnShow2").bind("click",function(){
			var $this=$(this);
			$.getScript("./js/sport.js",function(){
				$this.attr("disabled","true");
			});
		});	
		
		$("#btnShow3").bind("click",function(){
			var $this=$(this);		
			$.get("PHP/myfile.php",function(data){
				$this.attr("disabled","true");
				console.log($this);//检测
				$("#list3").append("<li>我的名字叫："+data.name+"</li>");
				$("#list3").append("<li>男朋友对我说："+data.say+"</li>");
			},"json");
		})
		
	});
	
</script>
